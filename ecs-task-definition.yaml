family: "singleton"
executionRoleArn: "$AWS_ROLE_TASK_EXECUTION_ARN"
taskRoleArn: "$AWS_ROLE_TASK_ARN"
networkMode: 'awsvpc'
requiresCompatibilities:
    -   "FARGATE"
containerDefinitions:
    -   name: "backend"
        image: "$IMAGE_NAME"
        cpu: "100"
        memory: "256"
        essential: "true"
        LogConfiguration:
            LogDriver: "awslogs"
            Options:
                awslogs-region: "$AWS_REGION"
                awslogs-group: "singleton"
                awslogs-stream-prefix: "agent"
        Secrets:
            -   Name: "DISCORD_TOKEN"
                ValueFrom: "$AWS_SECRETS_MANAGER_ARN:DISCORD_TOKEN::"
            -   Name: "OPENAI_TOKEN"
                ValueFrom: "$AWS_SECRETS_MANAGER_ARN:OPENAI_TOKEN::"
